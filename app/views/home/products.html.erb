<%= render 'header' %>
<%= render 'nav' %>


<section class="page-section bg-faded rounded product">
  <div class="container">

    <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Featured Products</h2>

    <div class="divider-custom divider-light">
      <div class="divider-custom-line"></div>
      <div class="divider-custom-icon"><i class="fas fa-wine-bottle"></i></div>
      <div class="divider-custom-line"></div>
    </div>

    <div class="row justify-content-center">
      <div class="col-lg-12 d-flex justify-content-center" >
        <ul id="product-flters">
          <li class='btn btn-secondary active' data-filter="*">All</li>
          <% @categories.each do |cat| %>
            <li class='btn btn-secondary' data-filter=".filter-<%=cat.category %>"><%= cat.category %></li>
          <% end %>
        </ul>

      </div>
    </div>







      <div class="row justify-content-center row-cols-1 row-cols-md-6 g-4 product-container">

        <% @products.each do |product| %>

        <div class="col product-item filter-<%= product.product_category.category %>">
          <div class="card justify-content-center align-items-center h-100" data-bs-toggle="modal" data-bs-target="#productModal<%= product.id %>">
            <div class="product-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                <div class="product-item-caption-content text-center text-white"><%= product.name %></div>
            </div>
            <img src="<%= product.image_url %>" class="card-img-top img-fluid " alt="<%= product.name %>">
          </div>
        </div>

        <%= render(:partial => "product_modal", :locals => {:product => product})%>


        <% end %>

      </div>

  </div>
</section>



<%= render 'footer' %>
